<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Google Top News</title>
    <link rel="stylesheet" type= "text/css" href="{{url_for('static',filename='styles/style.css') }}">
</head>
<script type = "text/JavaScript">
    <!--
       function AutoRefresh( t ) {
          setTimeout("location.reload(true);", t);
       }
    //-->
 </script>

<body onload = "JavaScript:AutoRefresh(15*60*1000);">
    <form action="#">
        <label for="player_name">Select Player</label>
        <select name="player" id="player" size="4">
        {% for name in name_list %}
            <option value={{name}}>{{name}}</option>
        {% endfor %}
            </select>
            <input type="submit" value="Submit" />
    </form>
    {% for i in range(0,len_df,10)%}
        {% if player %}
            var search_name = player;
        {% else %}
            var search_name = player_names.iloc[i];
        {% endif %}
        <h1>{{search_name}}</h1>
        <table class = "table">
            <tr class = "table__header">
                {% for header in table_headings %}
                <th class = "table__cell">{{ header }}</th>   
                {% endfor %}
            </tr>
            {% for row in range(len_df) %}
                <tr class = "table__row">
                    {% for cell in data.iloc[row] %}
                        {% if player_names.iloc[row]==search_name %}
                            <td class = "table__cell">{{cell}}</td>
                        {% endif %}
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
        <img class = "img-center" src="{{wordcloud_files[i//10]}}" border=3/>
        <img class = "img-center" src="{{plot_files[i//10]}}"/>
    {% endfor %}
    <h2>NOTE: This page will refresh every 15 minutes.</h2>
</body>
</html>